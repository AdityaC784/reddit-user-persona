# Reddit User Persona Generator

This project uses the Groq API (via OpenAI's interface) to analyze Reddit users' posts and comments to generate detailed user personas. The tool provides structured insights about users including their age range, personality traits, interests, communication style, and political views.

---

## Features

- Analyzes Reddit posts and comments
- Generates structured user personas in Markdown format
- Includes citations with links to original content
- Covers multiple aspects of user behavior and preferences

---

## Prerequisites

- Python 3.10
- A Groq API key
- All other API/IDs required are mentioned in dummy.env file 
- Required Python packages (listed in requirements.txt)

---

## Installation

1. Clone the repository:
```bash
git clone <repository-url>
cd reddit-user-persona
```

2. Create and activate a virtual environment:
```bash
python -m venv rdtuser-env
# On Windows cmd:
rdtuser-env\Scripts\activate

# On Unix or MacOS:
source rdtuser-env/bin/activate
```

3. Install the required packages:
```bash
pip install -r requirements.txt
```

4. Create a `.env` file.

```env
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USERNAME=your_reddit_username
REDDIT_PASSWORD=your_reddit_password
USER_AGENT=your_custom_user_agent
GROQ_API_KEY=your_groq_api_key

```

## How to Get API Keys
### Reddit API
Go to https://www.reddit.com/prefs/apps

Click Create App
Name the App (ex: USERPERSONA )
Choose Script type

Set Redirect URI to: http://localhost:8080

```
REDDIT_CLIENT_ID=     copy client_id
REDDIT_CLIENT_SECRET= copy reddit_client_secret
REDDIT_USERNAME=      your_reddit_username
REDDIT_PASSWORD=      your_reddit_password

```
CREATED_APP_NAME = name which you provided for the app 

USER_AGENT=script:CREATED_APP_NAME:v1.0 (by u/your_reddit_username)



### GROQ API
Go to https://console.groq.com

Sign up / log in

Navigate to API Keys and generate a new key

## Usage

The project consists of several Python files:
- `persona_generator.py`: Main module for generating user personas
- `reddit_scraper.py`: Module for fetching Reddit user data
- `main.py`: Entry point of the application

## Run the project:
```bash
python main.py

```

### Then enter a Reddit profile link when prompted, like:

https://www.reddit.com/user/kojied/comments/
https://www.reddit.com/user/kojied/


## Output Format

The generated persona includes:
1. Age Range (with supporting evidence)
2. Personality Traits
3. Interests
4. Tone of Communication
5. Political Views (if any)
6. Frequent Subreddits

Each section includes citations and links to the original content.

## Model Selection and Output Format

The project supports different Groq models, and the output format varies depending on the model selected:

### llama-3.3-70b-versatile
- Provides clean, structured output following the exact template
- Outputs directly in Markdown format
- No thinking steps or internal monologue
- Example output structure:
  ```markdown
  **User Persona: username**
  1. **Age Range**
     - Reason: (based on specific post/comment)
     - Cited from: [Full comment or post excerpt]
     URL: (insert permalink here)
  ...
  ```

### deepseek-r1-distill-llama-70b
- check Hungry-Move-6603(generated by deepseek-r1-70b).txt file
- Includes model's thinking process in `<think>` tags
- Shows reasoning and analysis steps
- Followed by the structured output
- Example output structure:
  ```markdown
  <think>
  Analysis of user data...
  Breaking down information...
  </think>

  **User Persona: username**
  1. **Age Range**
  ...
  ```


You can select your preferred model by modifying the `model` parameter in `persona_generator.py`:
```python
response = client.chat.completions.create(
    model="llama-3.3-70b-versatile",  # or "deepseek-r1-distill-llama-70b"
    messages=[...]
)
```

Choose the model based on your needs:
- Use `llama-3.3-70b-versatile` for clean, direct output
- Use `deepseek-r1-distill-llama-70b` if you want to see the model's reasoning process
- we cant remove <think>thinking</think> from the output if we use `deepseek-r1-distill-llama-70b` , even if we give good prompt. 

